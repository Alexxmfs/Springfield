# API de Gerenciamento de Usuários e Cidadãos

Este projeto fornece endpoints para gerenciamento de usuários e cidadãos, incluindo operações de cadastro, login, troca de senha e desbloqueio de usuários.

## Esquema do Banco de Dados

### Tabela `CAD_CIDADAO`
```sql
CREATE TABLE CAD_CIDADAO (
    ID INT PRIMARY KEY 
        GENERATED BY DEFAULT AS IDENTITY (START WITH 10000 INCREMENT BY 1) 
        CHECK (ID BETWEEN 10000 AND 99999),
    nome VARCHAR(255),
    endereco VARCHAR(255),
    bairro VARCHAR(255)
);
```

### Tabela `CAD_USUARIO_CIDADAO`
```sql
CREATE TABLE CAD_USUARIO_CIDADAO (
    ID SERIAL PRIMARY KEY,
    CIDADAO_ID INT UNIQUE REFERENCES CAD_CIDADAO(ID),
    USERNAME VARCHAR(255) UNIQUE NOT NULL,
    SENHA VARCHAR(255) NOT NULL,
    BLOQUEADO BOOLEAN DEFAULT FALSE,
    TENTATIVAS_LOGIN INT DEFAULT 0,
    ULTIMA_TROCA_SENHA TIMESTAMP
);
```

<h4>Método: POST</h4>
<h4>URL: http://localhost:8080/usuarios/cadastro</h4>
<h4>Corpo da Requisição (JSON):</h4>

```json
{
    "cidadaoId": 10000,
    "username": "joaosilva",
    "senha": "123456"
}
```

<h4>Login</h4>
<h4>POST http://localhost:8080/usuarios/login</h4>

```json
{
    "username": "joaosilva",
    "senha": "123456"
}
```

<h4>Trocar senha</h4>
<h4>POST http://localhost:8080/usuarios/troca-senha</h4>

```json
{
    "username": "joaosilva",
    "senhaAtual": "123456",
    "novaSenha": "novaSenha123"
}
```

<h4>Desbloquear Usuario</h4>
<h4>http://localhost:8080/usuarios/desbloqueio/alexMacedo</h4>

http://localhost:8081/parcelas/cidadao/10004
